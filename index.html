<!DOCTYPE html>
<html>
<head>
    <title>Custom Tab Title</title>
    <style>
        body {
            text-align: center;
            padding-top: 100px;
        }
        #controls {
            margin: auto;
            padding: 20px;
            background-color: #f0f0f0;
            border-radius: 8px;
            display: inline-block;
        }
        input, button {
            margin: 10px;
        }
    </style>
</head>
<body>
    <div id="controls">
        <input type="text" id="tabTitle" placeholder="Enter new tab title" oninput="updateTitle()" default="Custom Tab Title">
        <input type="color" id="bgColor" title="Choose your color" onchange="updateColor()" value="#ffffff">
        <button onclick="saveSettings()">Save</button>
    </div>

    <script>
        // Update title as user types
        function updateTitle() {
            var newTitle = document.getElementById('tabTitle').value;
            document.title = newTitle;
        }

        // Update background color as user chooses a color
        function updateColor() {
            var newColor = document.getElementById('bgColor').value;
            document.body.style.backgroundColor = newColor;
        }

        // Save settings and update URL
        function saveSettings() {
            var newTitle = document.getElementById('tabTitle').value;
            var newColor = document.getElementById('bgColor').value;
            window.history.pushState({}, '', '/' + encodeURIComponent(newTitle) + '/' + encodeURIComponent(newColor));
            document.getElementById('controls').style.display = 'none'; // Hide controls
        }

        // Function to check URL and set values
        function checkURLAndSetValues() {
            var path = window.location.pathname;
            var parts = path.split('/').filter(Boolean); // Splits and removes empty parts
            if (parts.length === 2) {
                var title = decodeURIComponent(parts[0]);
                var color = decodeURIComponent(parts[1]);
                document.getElementById('tabTitle').value = title;
                document.getElementById('bgColor').value = color;
                updateTitle();
                updateColor();
                document.getElementById('controls').style.display = 'none'; // Hide controls
            }
        }

        // Call on page load
        checkURLAndSetValues();
    </script>
</body>
</html>
